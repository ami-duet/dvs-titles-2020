/*! project-name v0.0.1 | (c) 2021 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
function appendViz(){const a=d3.scaleLinear().domain([0,d3.max(groupsSumPeople)]).range([50,200]),t=d3.scaleLinear().domain([0,d3.max(numChar)]).range([0,140]),i=d3.scaleLinear().domain([1,d3.max(numPeopleWithJobTitle)]).range([2,20]),e=d3.select("#titles-viz").append("svg").attr("width",vizWidth).attr("height",vizHeight),n=(e.append("g").attr("class","main-axis-wrapper").append("line").attr("x1",mainAxisX).attr("y1",0).attr("x2",mainAxisX).attr("y2",vizHeight).attr("stroke","black"),e.append("g").attr("class","arches").attr("fill-opacity",.4).attr("stroke","none"));let s=0;data.forEach(e=>{const r=n.append("g").attr("class",e.sct_id);e.groups.forEach(e=>{const n=r.append("g").attr("class",`group_${e.group_id}`),o=Math.ceil(a(e.sumPeople)),l=s+o,m=o/2+s,p=o/4;n.selectAll("path").data(e.titles).join("path").attr("class",a=>`arch arch-${a.uid}`).attr("d",a=>{const e=Math.ceil(t(a.num_char)),n=Math.ceil(i(a.num_people));return`M${mainAxisX},${s} C${e/1.5+mainAxisX},${(l-s)/10+s} ${e-n/2+mainAxisX},${m-p} ${e-n/2+mainAxisX},${m} C${e-n/2+mainAxisX},${m+p} ${e/1.5+mainAxisX},${9*(l-s)/10+s} ${mainAxisX},${l} ${e/1.4+mainAxisX},${9*(l-s)/10+s} ${e+n/2+mainAxisX},${m+p} ${e+n/2+mainAxisX},${m} C${e+n/2+mainAxisX},${m-p} ${e/1.4+mainAxisX},${(l-s)/10+s} ${mainAxisX},${s} Z`}).attr("fill",a=>a.color).attr("transform",a=>a.isFreelance?`rotate(180, ${mainAxisX}, ${m})`:null).on("mouseover",(a,t)=>{a.stopPropagation(),handleMouseOver(a,t)}).on("mouseout",a=>handleMouseOut(a));n.append("text").attr("x",mainAxisX).attr("y",m).attr("fill-opacity",1).attr("font-size","1.3rem").text(e.group_label);s=l}),s+=50}),vizHeight=s}getScaleInfo();